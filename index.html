<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Tduck Saving ‚Äî Trang c√° nh√¢n</title>
  <style>
    body{font-family:system-ui,Arial,sans-serif;max-width:800px;margin:20px auto;padding:20px;color:#222}
    h1{font-size:24px;margin-bottom:16px;text-align:center}
    .form{display:flex;flex-direction:column;gap:10px;margin-bottom:20px}
    input[type=text]{padding:8px;border-radius:6px;border:1px solid #ccc}
    button{padding:10px;border:none;border-radius:6px;cursor:pointer;background:#0b61ff;color:#fff}
    button:hover{opacity:0.9}
    ul{list-style:none;padding:0;margin:0}
    li{background:#f9f9f9;margin-bottom:8px;padding:10px;border-radius:6px;display:flex;flex-direction:column}
    .title{font-weight:bold;margin-bottom:4px}
    .url a{color:#0b61ff;word-break:break-all}
  </style>
</head>
<body>
  <h1>üìå Trang c√° nh√¢n ‚Äî Tduck Saving</h1>

  <div class="form">
    <input id="title" type="text" placeholder="Nh·∫≠p n·ªôi dung / ti√™u ƒë·ªÅ" />
    <input id="url" type="text" placeholder="Nh·∫≠p ƒë∆∞·ªùng link (v√≠ d·ª•: google.com ho·∫∑c http://...)" />
    <button id="saveBtn">L∆∞u</button>
  </div>

  <ul id="list"></ul>

  <script>
    const KEY = 'tduck_links_personal';
    const titleIn = document.getElementById('title');
    const urlIn = document.getElementById('url');
    const saveBtn = document.getElementById('saveBtn');
    const listEl = document.getElementById('list');

    function load(){
      try{ return JSON.parse(localStorage.getItem(KEY)) || [] }catch(e){ return [] }
    }
    function save(data){ localStorage.setItem(KEY, JSON.stringify(data)) }

    function normalizeUrl(u){
      let url = u.trim();
      if(!/^https?:\/\//i.test(url)){
        url = 'http://' + url; // t·ª± ƒë·ªông th√™m http:// n·∫øu thi·∫øu
      }
      return url;
    }

    function render(){
      const arr = load();
      listEl.innerHTML = '';
      if(arr.length===0){ listEl.innerHTML = '<li>(Ch∆∞a c√≥ link n√†o ƒë∆∞·ª£c l∆∞u)</li>'; return; }
      arr.forEach(item=>{
        const li = document.createElement('li');
        const title = document.createElement('div'); title.className='title'; title.textContent = item.title;
        const url = document.createElement('div'); url.className='url';
        const a = document.createElement('a'); a.href = item.url; a.target='_blank'; a.textContent = item.url;
        url.appendChild(a);
        li.appendChild(title);
        li.appendChild(url);
        listEl.appendChild(li);
      });
    }

    function addItem(){
      const title = titleIn.value.trim();
      let url = urlIn.value.trim();
      if(!title || !url){ alert('Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß n·ªôi dung v√† ƒë∆∞·ªùng link'); return; }
      url = normalizeUrl(url);
      const arr = load();
      arr.unshift({title, url});
      save(arr);
      titleIn.value=''; urlIn.value='';
      render();
    }

    saveBtn.addEventListener('click', addItem);

    render();
  </script>
</body>
</html>
